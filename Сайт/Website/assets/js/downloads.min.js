const on_page=10;var selector_template,row_template;function search(e){response=get_lists(),list=response.list,searched_list=[];for(let t=0;t<list.length;t++)(list[t].name+list[t].extension).includes(e)&&searched_list.push(list[t]);list=searched_list,load_lists_selectors(Math.ceil(list.length/10)),load_list(1)}function httpGet(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),JSON.parse(t.responseText)}function get_lists(){return response=httpGet("/downloads/list"),{count:response.count,list:response.list}}function load_templates(){selectors_div=document.getElementById("page_selectors"),table_body=document.getElementById("downloads_table").lastElementChild,selector_template=selectors_div.firstElementChild.cloneNode(!0),selectors_div.firstElementChild.remove(),row_template=table_body.firstElementChild.cloneNode(!0),table_body.firstElementChild.remove()}function load_list(e){for(list_on_page=list.slice(10*(e-1),10*e),table_body=document.getElementById("downloads_table").lastElementChild;table_body.firstChild;)table_body.removeChild(table_body.firstChild);for(let e=0;e<list_on_page.length;e++){let t=list_on_page[e];name=t.name,link=t.link,extension=t.extension,description=t.description;let l=row_template.cloneNode(!0),s=l.children,o=s[0],n=s[1],i=s[2],d=s[3];l.setAttribute("onclick",'location.href="/downloads/'+link+'";'),o.textContent=name,n.textContent=name+extension,i.textContent=extension,d.textContent=description,table_body.appendChild(l)}}function load_lists_selectors(e){for(;selectors_div.firstChild;)selectors_div.removeChild(selectors_div.firstChild);for(let t=1;t<=e;t++){let e=selector_template.cloneNode(!0);e.firstElementChild.textContent=String(t),e.setAttribute("onclick","load_list("+String(t)+")"),selectors_div.appendChild(e)}}load_templates(),response=get_lists();var list=response.list;lists_n=Math.ceil(response.count/10),load_lists_selectors(lists_n),lists_n&&load_list(1);